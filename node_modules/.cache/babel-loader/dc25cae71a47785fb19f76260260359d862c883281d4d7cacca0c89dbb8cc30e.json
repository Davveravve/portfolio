{"ast":null,"code":"// src/pages/Home.js\nimport React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import styled from'styled-components';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[projects,setProjects]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchAllProjects=async()=>{try{setLoading(true);// Läs projektkonfigurationsfilen\nconst response=await fetch('/projects.json');if(!response.ok){throw new Error('Kunde inte ladda projektkonfiguration');}const projectsConfig=await response.json();setProjects(projectsConfig);// Spara för användning i andra komponenter\nsessionStorage.setItem('allProjects',JSON.stringify(projectsConfig));}catch(error){console.error('Error fetching projects:',error);setProjects([]);}finally{setLoading(false);}};fetchAllProjects();},[]);return/*#__PURE__*/_jsx(HomeContainer,{children:/*#__PURE__*/_jsxs(ProjectsSection,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"Mina Projekt\"}),loading?/*#__PURE__*/_jsx(LoadingText,{children:\"Laddar projekt...\"}):/*#__PURE__*/_jsx(ProjectsGrid,{children:projects.map((project,index)=>{var _project$info$technol;return/*#__PURE__*/_jsx(ProjectCard,{initial:{opacity:0},animate:{opacity:1},transition:{delay:index*0.1,duration:0.5},children:/*#__PURE__*/_jsxs(Link,{to:`/project/${project.id}`,children:[/*#__PURE__*/_jsx(ProjectImage,{src:`/projects/${project.id}/images/main.jpg`,onError:e=>{// Försök med PNG om JPG misslyckas\nconst jpgPath=e.target.src;const pngPath=jpgPath.replace('.jpg','.png');console.log(\"Försöker ladda PNG istället:\",pngPath);e.target.src=pngPath;// Om även PNG misslyckas, använd placeholder\ne.target.onerror=()=>{console.log(\"Även PNG misslyckades, använder placeholder\");e.target.src=\"/placeholder-image.jpg\";e.target.onerror=null;};},alt:project.id}),/*#__PURE__*/_jsxs(ProjectInfo,{children:[/*#__PURE__*/_jsx(ProjectTitle,{children:project.id}),/*#__PURE__*/_jsx(ProjectType,{children:project.info.type}),/*#__PURE__*/_jsx(TechList,{children:(_project$info$technol=project.info.technologies)===null||_project$info$technol===void 0?void 0:_project$info$technol.slice(0,3).map((tech,i)=>/*#__PURE__*/_jsx(TechItem,{children:tech},i))})]})]})},project.id);})})]})});};// Styled Components\nconst HomeContainer=styled.div`\n  padding: 0 2rem;\n  background-color: #0a0e17;\n  min-height: 100vh;\n  color: white;\n`;const ProjectsSection=styled.section`\n  padding-top: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;const SectionTitle=styled.h2`\n  color: white;\n  font-size: 1rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n`;const LoadingText=styled.p`\n  text-align: center;\n  font-size: 1.2rem;\n  opacity: 0.7;\n`;const ProjectsGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 2rem;\n`;const ProjectCard=styled(motion.div)`\n  background-color: rgba(255, 255, 255, 0.05);\n  border-radius: 8px;\n  overflow: hidden;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n  }\n  \n  a {\n    color: white;\n    text-decoration: none;\n  }\n`;const ProjectImage=styled.img`\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n  background-color: #1a1a1a; /* Bakgrund om bild inte laddar */\n`;const ProjectInfo=styled.div`\n  padding: 1.5rem;\n`;const ProjectTitle=styled.h3`\n  font-size: 1.5rem;\n  margin-bottom: 0.5rem;\n`;const ProjectType=styled.span`\n  display: inline-block;\n  background-color: #c45b5b;\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.8rem;\n  margin: 0.5rem 0;\n`;const TechList=styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-top: 1rem;\n`;const TechItem=styled.span`\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.8rem;\n`;export default Home;","map":{"version":3,"names":["React","useEffect","useState","Link","styled","motion","jsx","_jsx","jsxs","_jsxs","Home","projects","setProjects","loading","setLoading","fetchAllProjects","response","fetch","ok","Error","projectsConfig","json","sessionStorage","setItem","JSON","stringify","error","console","HomeContainer","children","ProjectsSection","SectionTitle","LoadingText","ProjectsGrid","map","project","index","_project$info$technol","ProjectCard","initial","opacity","animate","transition","delay","duration","to","id","ProjectImage","src","onError","e","jpgPath","target","pngPath","replace","log","onerror","alt","ProjectInfo","ProjectTitle","ProjectType","info","type","TechList","technologies","slice","tech","i","TechItem","div","section","h2","p","img","h3","span"],"sources":["C:/Users/David/Desktop/portfolio/src/pages/Home.js"],"sourcesContent":["// src/pages/Home.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Home = () => {\r\n  const [projects, setProjects] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const fetchAllProjects = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Läs projektkonfigurationsfilen\r\n        const response = await fetch('/projects.json');\r\n        if (!response.ok) {\r\n          throw new Error('Kunde inte ladda projektkonfiguration');\r\n        }\r\n        \r\n        const projectsConfig = await response.json();\r\n        setProjects(projectsConfig);\r\n        \r\n        // Spara för användning i andra komponenter\r\n        sessionStorage.setItem('allProjects', JSON.stringify(projectsConfig));\r\n      } catch (error) {\r\n        console.error('Error fetching projects:', error);\r\n        setProjects([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchAllProjects();\r\n  }, []);\r\n  \r\n  return (\r\n    <HomeContainer>\r\n      <ProjectsSection>\r\n        <SectionTitle>Mina Projekt</SectionTitle>\r\n        \r\n        {loading ? (\r\n          <LoadingText>Laddar projekt...</LoadingText>\r\n        ) : (\r\n          <ProjectsGrid>\r\n            {projects.map((project, index) => (\r\n              <ProjectCard\r\n                key={project.id}\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                transition={{ delay: index * 0.1, duration: 0.5 }}\r\n              >\r\n                <Link to={`/project/${project.id}`}>\r\n                  <ProjectImage \r\n                    src={`/projects/${project.id}/images/main.jpg`} \r\n                    onError={(e) => {\r\n                      // Försök med PNG om JPG misslyckas\r\n                      const jpgPath = e.target.src;\r\n                      const pngPath = jpgPath.replace('.jpg', '.png');\r\n                      console.log(\"Försöker ladda PNG istället:\", pngPath);\r\n                      e.target.src = pngPath;\r\n                      \r\n                      // Om även PNG misslyckas, använd placeholder\r\n                      e.target.onerror = () => {\r\n                        console.log(\"Även PNG misslyckades, använder placeholder\");\r\n                        e.target.src = \"/placeholder-image.jpg\";\r\n                        e.target.onerror = null;\r\n                      };\r\n                    }}\r\n                    alt={project.id}\r\n                  />\r\n                  <ProjectInfo>\r\n                    <ProjectTitle>{project.id}</ProjectTitle>\r\n                    <ProjectType>{project.info.type}</ProjectType>\r\n                    <TechList>\r\n                      {project.info.technologies?.slice(0, 3).map((tech, i) => (\r\n                        <TechItem key={i}>{tech}</TechItem>\r\n                      ))}\r\n                    </TechList>\r\n                  </ProjectInfo>\r\n                </Link>\r\n              </ProjectCard>\r\n            ))}\r\n          </ProjectsGrid>\r\n        )}\r\n      </ProjectsSection>\r\n    </HomeContainer>\r\n  );\r\n};\r\n\r\n// Styled Components\r\nconst HomeContainer = styled.div`\r\n  padding: 0 2rem;\r\n  background-color: #0a0e17;\r\n  min-height: 100vh;\r\n  color: white;\r\n`;\r\n\r\nconst ProjectsSection = styled.section`\r\n  padding-top: 2rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst SectionTitle = styled.h2`\r\n  color: white;\r\n  font-size: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst LoadingText = styled.p`\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  opacity: 0.7;\r\n`;\r\n\r\nconst ProjectsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 2rem;\r\n`;\r\n\r\nconst ProjectCard = styled(motion.div)`\r\n  background-color: rgba(255, 255, 255, 0.05);\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-5px);\r\n    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\r\n  }\r\n  \r\n  a {\r\n    color: white;\r\n    text-decoration: none;\r\n  }\r\n`;\r\n\r\nconst ProjectImage = styled.img`\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n  background-color: #1a1a1a; /* Bakgrund om bild inte laddar */\r\n`;\r\n\r\nconst ProjectInfo = styled.div`\r\n  padding: 1.5rem;\r\n`;\r\n\r\nconst ProjectTitle = styled.h3`\r\n  font-size: 1.5rem;\r\n  margin-bottom: 0.5rem;\r\n`;\r\n\r\nconst ProjectType = styled.span`\r\n  display: inline-block;\r\n  background-color: #c45b5b;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 20px;\r\n  font-size: 0.8rem;\r\n  margin: 0.5rem 0;\r\n`;\r\n\r\nconst TechList = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst TechItem = styled.span`\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 20px;\r\n  font-size: 0.8rem;\r\n`;\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}